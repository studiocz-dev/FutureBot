# ============================================
# Supabase Configuration
# ============================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key-here

# ============================================
# Discord Configuration
# ============================================
DISCORD_TOKEN=your-discord-bot-token-here
DISCORD_GUILD_ID=123456789012345678
DISCORD_SIGNALS_CHANNEL_ID=987654321098765432

# ============================================
# Binance Configuration (Optional - only needed for trading)
# ============================================
# BINANCE_API_KEY=your-api-key-here
# BINANCE_API_SECRET=your-api-secret-here
# BINANCE_TESTNET=true

# ============================================
# Trading Symbols & Timeframes
# ============================================
# Expanded to 20 symbols for better market coverage
# 5m timeframe = Faster Swing Trading (4-12 hour holds, 0.8-1.5% targets, 5-10 signals/day)
# 15m timeframe = Swing Trading (2-7 day holds, 2-4% targets, 1-2 signals/day)
SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT,SOLUSDT,XRPUSDT,ADAUSDT,DOGEUSDT,DOTUSDT,AVAXUSDT,LINKUSDT,MATICUSDT,UNIUSDT,LTCUSDT,ATOMUSDT,ARBUSDT,OPUSDT,NEARUSDT,APTUSDT,SHIBUSDT,PEPEUSDT
TIMEFRAMES=5m

# ============================================
# Historical Data Configuration
# ============================================
# Number of candles to fetch at startup for each symbol/timeframe
# 5m: 6000 candles = ~21 days of data (deep pattern analysis for Wyckoff/Elliott)
STARTUP_CANDLES=6000
# Number of candles to use for signal analysis
# 5m: 3000 candles = ~10 days (ideal for Wyckoff accumulation/distribution & Elliott 5-wave)
ANALYSIS_CANDLES=3000
# Minimum candles required to generate a signal
# 5m: 300 candles = ~1 day minimum context
MIN_CANDLES=300
# Number of candles to use for ATR calculation (volatility-based SL/TP)
ATR_CANDLES=30

# =============================================================================
# TAKE PROFIT / STOP LOSS CONFIGURATION
# =============================================================================
# Choose TP/SL calculation method
# ATR Method: Fixed multiplier based on volatility (simple, reliable)
# Elliott Wave Method: Fibonacci extensions and wave invalidation (advanced, theory-based)

# Use ATR-based TP/SL (optimized for faster swing: 0.8-1.5% targets, 4-12h holds)
USE_ATR_TARGETS=true

# Use Elliott Wave-based TP/SL (Fibonacci extensions, wave invalidation)
USE_ELLIOTT_WAVE_TARGETS=false

# ATR multipliers (only used if USE_ATR_TARGETS=true)
# Reduced for faster swing trading (tighter targets)
ATR_STOP_LOSS_MULTIPLIER=1.5    # SL = Entry ± (ATR × this value)
ATR_TAKE_PROFIT_MULTIPLIER=2.0  # TP = Entry ± (ATR × this value)

# Elliott Wave Fibonacci ratios (only used if USE_ELLIOTT_WAVE_TARGETS=true)
# Wave 5 projection methods (choose which to use)
ELLIOTT_WAVE_5_RATIO=1.0        # Wave 5 = 1.0 × Wave 1 (conservative, default)
# Alternative ratios: 0.618 (very conservative), 1.272 (moderate), 1.618 (aggressive)

# Minimum risk/reward ratio (safety check for both methods)
MIN_RISK_REWARD_RATIO=1.2

# =============================================================================
# OPTIONAL: REDIS CACHE
# =============================================================================

# ============================================
# Signal Configuration
# ============================================
# Lower threshold for faster swing trading (more signal opportunities)
MIN_CONFIDENCE=0.60
ENABLE_WYCKOFF=true
ENABLE_ELLIOTT=true
SIGNAL_COOLDOWN_SECONDS=300
# Prevent conflicting signals (SHORT/LONG) for same symbol within 1 hour
PREVENT_SIGNAL_CONFLICTS=true

# ============================================
# Trading Configuration (DISABLED by default)
# ============================================
ENABLE_TRADING=false
POSITION_SIZE_USDT=100.0
MAX_OPEN_POSITIONS=3
LEVERAGE=1

# ============================================
# Cache Configuration (Optional - Redis)
# ============================================
# CACHE_TYPE=memory
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=simple  # 'simple' for human-readable, 'json' for structured logs

# ============================================
# WebSocket Configuration
# ============================================
WS_RECONNECT_DELAY=5
WS_MAX_RECONNECT_DELAY=60

# ============================================
# Backtest Configuration
# ============================================
BACKTEST_INITIAL_BALANCE=10000.0
BACKTEST_COMMISSION=0.0004
